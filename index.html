<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cournonterral</title>
    <link rel="stylesheet" href="vendor/reset.min.css">
    <link rel="stylesheet" href="style.css">
    <style>
        #minimap {
            position: absolute;
            bottom: 20px;
            right: 20px;
            width: 40vw;
            height: auto;
            max-width: 500px;
            z-index: 9999;
            border: 2px solid white;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            background: #fff;
            padding: 5px;
        }

            #minimap img {
                width: 100%;
                height: auto;
                display: block;
            }

        /* Responsivité pour tablette et mobile */
        @media (max-width: 1024px) {
            #minimap {
                width: 200px;
                bottom: 15px;
                right: 15px;
            }
        }

        @media (max-width: 600px) {
            #minimap {
                width: 25vw;
                height: auto;
                min-width: 250px;
                bottom: 10px;
                right: 10px;
            }
        }
    </style>
</head>
<body class="multiple-scenes view-control-buttons">

    <div id="pano"></div>

    <!-- Liste des scènes -->
    <div id="sceneList">
        <a href="javascript:void(0)" onclick="loadScene('salon')">Salon</a>
        <a href="javascript:void(0)" onclick="loadScene('chambre')">Chambre</a>
        <a href="javascript:void(0)" onclick="loadScene('sdb')">Salle de Bain</a>
    </div>

    <!-- Titre de la scène -->
    <div id="titleBar">
        <h1 class="sceneName"></h1>
    </div>

    <!-- Minimap -->
    <div id="minimap">
        <img id="minimap-img" src="img/minimap.png" alt="Mini Map" />
    </div>

    <!-- Contrôles -->
    <a href="javascript:void(0)" id="autorotateToggle">
        <img class="icon off" src="img/play.png">
        <img class="icon on" src="img/pause.png">
    </a>
    <a href="javascript:void(0)" id="fullscreenToggle">
        <img class="icon off" src="img/fullscreen.png">
        <img class="icon on" src="img/windowed.png">
    </a>

    <script src="vendor/screenfull.min.js"></script>
    <script src="vendor/bowser.min.js"></script>
    <script src="vendor/marzipano.js"></script>
    <script src="data.js"></script>
    <script src="index.js"></script>

    <script>
        // Fonction pour changer l'image de la minimap en fonction de la scène
        function updateMinimap(sceneId) {
            const minimapImg = document.getElementById('minimap-img');

            // Vérification des chemins d'image
            switch (sceneId) {
                case 'salon':
                    minimapImg.src = 'img/minimap_salon.png'; // Image avec salon en surbrillance
                    break;
                case 'chambre':
                    minimapImg.src = 'img/minimap_chambre.png'; // Image avec chambre en surbrillance
                    break;
                case 'sdb':
                    minimapImg.src = 'img/minimap_sdb.png'; // Image avec salle de bain en surbrillance
                    break;
                default:
                    minimapImg.src = 'img/minimap.png'; // Image générique sans surbrillance
                    break;
            }
        }

        // Fonction pour charger une scène et mettre à jour la minimap
        function loadScene(sceneId) {
            // Mettre à jour le titre de la scène
            document.querySelector('#titleBar .sceneName').textContent = sceneId.charAt(0).toUpperCase() + sceneId.slice(1);

            // Mettre à jour l'image de la minimap en fonction de la scène
            updateMinimap(sceneId);
        }
    </script>

</body>
</html>
